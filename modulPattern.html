<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module Pattern</title>
</head>

<body>
    <script>

        // A module is a construct somewhat similar to a singleton class. 
        // It has only one instance and exposes its members, 
        // but it doesn’t have any kind of internal state.

        // Module is created as an IIFE


        // lets create a module with a privae function inside
        // const Formatter = (function(){
        //     const log = (message) => console.log(`[${Date.now()}] Logger: ${message}`)
        // })()

        // if we try to run this in the console, we get an error
        // Formatter.log("Hello"); // Uncaught TypeError: Cannot read properties of undefined (reading 'log')

        // So, now we know that accessing a module is actually accessing whatever it returns.


        // Here the log function is a private one. 
        // It can be accessed from within the module and other functions inside can execute it. Let’s try!
        // const Formatter = (function () {
        //     const log = (message) => console.log(`[${Date.now()}] Logger: ${message}`)

        //     const makeUpperCase = (text) => {
        //         log("Making Upper Case")
        //         return text.toUpperCase()
        //     }
        // })()


        // Exposing a module

        // Do not return a single function (although it is possible), return an object with it!
        const Formatter = (function () {
            const log = (message) => console.log(`[${Date.now()}] Logger: ${message}`)

            const makeUpperCase = (text) => {
                log("Making Upper Case")
                return text.toUpperCase()
            }
            return { makeUpperCase }
        })()

        console.log(Formatter.makeUpperCase("sodiq")) // [1753117107165] Logger: Making Upper Case /n SODIQ
    </script>
</body>

</html>